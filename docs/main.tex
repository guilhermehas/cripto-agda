%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% DOCUMENT PREAMBLE %%%
\documentclass[12pt]{article}

\include{style}
\usepackage{agda}
\usepackage{hyperref}
\usepackage{apacite}
\usepackage{catchfilebetweentags}

\usepackage{ucs}
\usepackage{amssymb}

\usepackage[english]{babel}
\usepackage{url}
\usepackage[utf8x]{inputenc}
\usepackage{amsmath}
\usepackage{graphicx}
\graphicspath{{images/}}
\usepackage{parskip}
\usepackage{fancyhdr}

\usepackage{vmargin}
\setmarginsrb{3 cm}{2.5 cm}{3 cm}{2.5 cm}{1 cm}{1.5 cm}{1 cm}{1.5 cm}

\newcommand{\agda}[2]{\ExecuteMetaData[latex/#1.tex]{#2}}
\newcommand{\incgraph}[2]{\includegraphics[width=\columnwidth/#2]{imgs/#1}}
\newcommand{\incimgdiv}[4]{
  \begin{figure}
    \incgraph{#1.#2}{#4}
    \caption{#3}
    \label{fig:#1}
  \end{figure}
}
\newcommand{\incimg}[3]{\incimgdiv{#1}{#2}{#3}{1}}
\newcommand{\figref}[1]{Figure \ref{fig:#1}}
\newcommand{\subtitle}[1]{{\large \textbf{#1}}}
\newcommand{\initial}[2]{\textbf{#1:} #2 \\}

\title{A Simplified version of Bitcoin, implemented in Agda}

% Title
\author{Guilherme H. A. Silva}
% Author
\date{15 de Abril de 2019}
% Date

\attr{university}{Fundação Getúlio Vargas}
\attr{universityinitials}{FGV}
\attr{professor}{Flávio Codeço Coelho}
\attr{mastertheme}{Modelagem Matemática}
\attr{author}{Guilherme Horta Alvares da Silva}

\makeatletter
\let\thetitle\@title
\let\theauthor\@author
\let\thedate\@date
\makeatother

\pagestyle{fancy}
\fancyhf{}
\rhead{\theauthor}
\lhead{\thetitle}
\cfoot{\thepage}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\firstpage

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\include{abstract}
\include{resumo}
\include{initials}

\listoffigures
\newpage
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\tableofcontents
\pagebreak

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\renewcommand{\thesection}{\arabic{section}}

\include{introduction}
\include{objectives}
\include{relevantbackground}

\section{Development}
  \include{bitcoinutxo}
  \include{criptofunctions}
  \include{transactions}
  \include{transactiontree}
  \include{ledger}
  \include{blockchain}
\include{conclusion}

\newpage

\bibliographystyle{apacite}
\bibliography{References}

\end{document}
