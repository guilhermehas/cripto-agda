\subsection{Bitcoin UTXO}

\incimg{account}{jpeg}{Record account}
%% https://medium.com/@sunflora98/utxo-vs-account-balance-model-5e6470f4e0cf

The \gls{utxo} model used in Bitcoin and the account model used in Ethereum are the two most used kinds
of data structures to model accounts records and savings states.

In the account model, it is saved the address and the balance of each address
(like in \figref{account}).
For example, the data structure will look like this [(0xabc01, 1.01), (0xabc02, 2.02)].
So the address 0xabc01 has 1.01a of balance and the address 0xabc02 has 2.02 of balance.
In this way, it is possible to easily know how much balance each address has,
but it is not possible to know how they got in this state.

  \incimg{utxo}{png}{UTXO transactions}
  %% https://bitcoin.org/
  %% https://medium.com/@sunflora98/utxo-vs-account-balance-model-5e6470f4e0cf

In the \gls{utxo} model (shown in \figref{utxo}), each transaction is saved in the transaction tree.
Every transaction is composed of multiples inputs and multiples outputs.
But all inputs have to never been spent before.

Because of that, in the \gls{utxo} model, it is easy to make a new transaction from the previous one,
but it is harder to know how much each one has.
The wallet that calculate how much balance each address has.

In the account model, there could be one kind of vulnerability
that is less probable to happen in \gls{utxo} model.
Because there is an undesirable intermediary state that there is some address without balance while
another has not already received his money.

For example: \\
\textbf{
bobBalance -= 1 \\
Intermediary State \\
aliceBalance += 1
}

In the account model, it is straight forward to know how much balance each address has.
In the \gls{utxo} model, this calculation is made off-chain. It can be a good thing,
because each user has more privacy.
